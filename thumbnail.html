<!DOCTYPE html>
<html>
<head>
    <title>ELEVATOR PANIC Thumbnail Generator</title>
    <style>
        body {
            background: #1a1a1a;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            font-family: monospace;
            color: white;
        }
        canvas {
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            border: 2px solid #ffcc00;
        }
        .instructions {
            margin-top: 20px;
            color: #888;
        }
        button {
            margin-top: 10px;
            padding: 10px 20px;
            background: #ffcc00;
            border: none;
            color: #000;
            font-family: monospace;
            font-weight: bold;
            cursor: pointer;
        }
        button:hover {
            background: #ffdd44;
        }
    </style>
</head>
<body>
    <canvas id="thumbnail" width="1280" height="720"></canvas>
    <div class="instructions">Right-click canvas and "Save Image As" or click button below</div>
    <button onclick="downloadThumbnail()">Download Thumbnail (PNG)</button>

    <script>
        const canvas = document.getElementById('thumbnail');
        const ctx = canvas.getContext('2d');

        // Disable smoothing for pixel art
        ctx.imageSmoothingEnabled = false;

        // Scale factor for sprites
        const SCALE = 6;

        // EXACT game elevator colors from Constants.js BUILDINGS.STARTER.elevator
        const ELEVATOR = {
            wallColor: '#4a4a6a',
            floorColor: '#2a2a4a',
            accentColor: '#6a6a8a',
            lightColor: '#ffffcc'
        };

        // Convert hex number to CSS color
        function hexColor(hex) {
            return '#' + hex.toString(16).padStart(6, '0');
        }

        // ============================================================
        // EXACT SPRITES FROM BootScene.js
        // ============================================================

        // Player kick frame (20x24) - EXACT from BootScene.js lines 262-276
        function drawPlayerKick(baseX, baseY, scale) {
            const s = scale;
            // Body
            ctx.fillStyle = hexColor(0x00ff88);
            ctx.fillRect(baseX + 0*s, baseY + 0*s, 12*s, 20*s);
            // Head
            ctx.fillStyle = hexColor(0x00dd66);
            ctx.fillRect(baseX + 2*s, baseY + 0*s, 8*s, 8*s);
            // Eyes
            ctx.fillStyle = hexColor(0xffffff);
            ctx.fillRect(baseX + 3*s, baseY + 2*s, 2*s, 2*s);
            ctx.fillRect(baseX + 7*s, baseY + 2*s, 2*s, 2*s);
            // Standing leg
            ctx.fillStyle = hexColor(0x008844);
            ctx.fillRect(baseX + 1*s, baseY + 18*s, 4*s, 6*s);
            // Extended kick leg
            ctx.fillRect(baseX + 12*s, baseY + 14*s, 8*s, 4*s);
        }

        // RUSHER (14x14) - EXACT from BootScene.js lines 280-306
        function drawRusher(baseX, baseY, scale) {
            const s = scale;
            // Body
            ctx.fillStyle = hexColor(0xff4444);
            ctx.fillRect(baseX + 1*s, baseY + 4*s, 12*s, 10*s);
            ctx.fillStyle = hexColor(0xcc2222);
            ctx.fillRect(baseX + 2*s, baseY + 3*s, 10*s, 2*s);
            // Horns
            ctx.fillStyle = hexColor(0xaa0000);
            ctx.fillRect(baseX + 1*s, baseY + 0*s, 2*s, 4*s);
            ctx.fillRect(baseX + 11*s, baseY + 0*s, 2*s, 4*s);
            // Eyes (angry)
            ctx.fillStyle = hexColor(0xffffff);
            ctx.fillRect(baseX + 3*s, baseY + 5*s, 3*s, 3*s);
            ctx.fillRect(baseX + 8*s, baseY + 5*s, 3*s, 3*s);
            ctx.fillStyle = hexColor(0x000000);
            ctx.fillRect(baseX + 4*s, baseY + 6*s, 2*s, 2*s);
            ctx.fillRect(baseX + 9*s, baseY + 6*s, 2*s, 2*s);
            // Angry eyebrows
            ctx.fillStyle = hexColor(0x880000);
            ctx.fillRect(baseX + 2*s, baseY + 4*s, 4*s, 1*s);
            ctx.fillRect(baseX + 8*s, baseY + 4*s, 4*s, 1*s);
            // Teeth
            ctx.fillStyle = hexColor(0xffffff);
            ctx.fillRect(baseX + 4*s, baseY + 11*s, 2*s, 2*s);
            ctx.fillRect(baseX + 8*s, baseY + 11*s, 2*s, 2*s);
        }

        // BOUNCER (12x12) - EXACT from BootScene.js lines 450-476
        function drawBouncer(baseX, baseY, scale) {
            const s = scale;
            // Body
            ctx.fillStyle = hexColor(0xff66aa);
            ctx.fillRect(baseX + 2*s, baseY + 2*s, 8*s, 8*s);
            ctx.fillStyle = hexColor(0xff3388);
            ctx.fillRect(baseX + 1*s, baseY + 3*s, 2*s, 6*s);
            ctx.fillRect(baseX + 9*s, baseY + 3*s, 2*s, 6*s);
            // Spring feet
            ctx.fillStyle = hexColor(0xcccccc);
            ctx.fillRect(baseX + 3*s, baseY + 10*s, 2*s, 2*s);
            ctx.fillRect(baseX + 7*s, baseY + 10*s, 2*s, 2*s);
            ctx.fillStyle = hexColor(0x888888);
            ctx.fillRect(baseX + 3*s, baseY + 9*s, 2*s, 1*s);
            ctx.fillRect(baseX + 7*s, baseY + 9*s, 2*s, 1*s);
            // Happy face - eyes
            ctx.fillStyle = hexColor(0xffffff);
            ctx.fillRect(baseX + 3*s, baseY + 4*s, 2*s, 2*s);
            ctx.fillRect(baseX + 7*s, baseY + 4*s, 2*s, 2*s);
            ctx.fillStyle = hexColor(0x000000);
            ctx.fillRect(baseX + 4*s, baseY + 4*s, 1*s, 1*s);
            ctx.fillRect(baseX + 8*s, baseY + 4*s, 1*s, 1*s);
            // Smile
            ctx.fillRect(baseX + 4*s, baseY + 7*s, 4*s, 1*s);
            ctx.fillRect(baseX + 3*s, baseY + 6*s, 1*s, 1*s);
            ctx.fillRect(baseX + 8*s, baseY + 6*s, 1*s, 1*s);
        }

        // GHOST (14x16) - EXACT from BootScene.js lines 513-531
        function drawGhost(baseX, baseY, scale) {
            const s = scale;
            // Body
            ctx.fillStyle = hexColor(0xddddff);
            ctx.fillRect(baseX + 2*s, baseY + 0*s, 10*s, 12*s);
            ctx.fillStyle = hexColor(0xccccee);
            ctx.fillRect(baseX + 1*s, baseY + 2*s, 2*s, 8*s);
            ctx.fillRect(baseX + 11*s, baseY + 2*s, 2*s, 8*s);
            // Wavy bottom
            ctx.fillRect(baseX + 2*s, baseY + 12*s, 3*s, 2*s);
            ctx.fillRect(baseX + 6*s, baseY + 13*s, 2*s, 2*s);
            ctx.fillRect(baseX + 9*s, baseY + 12*s, 3*s, 2*s);
            // Hollow eyes
            ctx.fillStyle = hexColor(0x000000);
            ctx.fillRect(baseX + 4*s, baseY + 4*s, 2*s, 3*s);
            ctx.fillRect(baseX + 8*s, baseY + 4*s, 2*s, 3*s);
            // Spooky mouth
            ctx.fillRect(baseX + 5*s, baseY + 9*s, 4*s, 2*s);
        }

        // BOOMER (16x14) - black bomb - EXACT from BootScene.js lines 1397-1430
        function drawBoomer(baseX, baseY, scale) {
            const s = scale;
            // Bomb body (round)
            ctx.fillStyle = hexColor(0x222222);
            ctx.fillRect(baseX + 3*s, baseY + 4*s, 10*s, 10*s);
            ctx.fillRect(baseX + 2*s, baseY + 5*s, 12*s, 8*s);
            ctx.fillRect(baseX + 4*s, baseY + 3*s, 8*s, 12*s);
            // Fuse tube
            ctx.fillStyle = hexColor(0x444444);
            ctx.fillRect(baseX + 6*s, baseY + 0*s, 4*s, 4*s);
            // Lit fuse (spark)
            ctx.fillStyle = hexColor(0xff6600);
            ctx.fillRect(baseX + 6*s, baseY + 0*s, 4*s, 2*s);
            ctx.fillStyle = hexColor(0xffff00);
            ctx.fillRect(baseX + 7*s, baseY + 0*s, 2*s, 1*s);
            // Warning stripes
            ctx.fillStyle = hexColor(0xffcc00);
            ctx.fillRect(baseX + 3*s, baseY + 6*s, 2*s, 6*s);
            ctx.fillRect(baseX + 6*s, baseY + 6*s, 2*s, 6*s);
            ctx.fillRect(baseX + 9*s, baseY + 6*s, 2*s, 6*s);
            // Worried face - eyes
            ctx.fillStyle = hexColor(0xffffff);
            ctx.fillRect(baseX + 4*s, baseY + 7*s, 2*s, 2*s);
            ctx.fillRect(baseX + 10*s, baseY + 7*s, 2*s, 2*s);
            ctx.fillStyle = hexColor(0x000000);
            ctx.fillRect(baseX + 5*s, baseY + 7*s, 1*s, 2*s);
            ctx.fillRect(baseX + 11*s, baseY + 7*s, 1*s, 2*s);
            // Worried mouth
            ctx.fillStyle = hexColor(0xffffff);
            ctx.fillRect(baseX + 6*s, baseY + 11*s, 4*s, 2*s);
            ctx.fillStyle = hexColor(0x000000);
            ctx.fillRect(baseX + 7*s, baseY + 11*s, 2*s, 1*s);
        }

        // HEAVY (20x20) - EXACT from BootScene.js lines 387-414
        function drawHeavy(baseX, baseY, scale) {
            const s = scale;
            // Body
            ctx.fillStyle = hexColor(0x8844ff);
            ctx.fillRect(baseX + 2*s, baseY + 2*s, 16*s, 16*s);
            // Armor plates
            ctx.fillStyle = hexColor(0x6622cc);
            ctx.fillRect(baseX + 0*s, baseY + 4*s, 4*s, 12*s);
            ctx.fillRect(baseX + 16*s, baseY + 4*s, 4*s, 12*s);
            ctx.fillRect(baseX + 4*s, baseY + 0*s, 12*s, 3*s);
            // Helmet
            ctx.fillStyle = hexColor(0x5511aa);
            ctx.fillRect(baseX + 4*s, baseY + 1*s, 12*s, 4*s);
            // Visor (angry eyes behind)
            ctx.fillStyle = hexColor(0x000000);
            ctx.fillRect(baseX + 5*s, baseY + 3*s, 10*s, 3*s);
            ctx.fillStyle = hexColor(0xff0000);
            ctx.fillRect(baseX + 6*s, baseY + 4*s, 3*s, 1*s);
            ctx.fillRect(baseX + 11*s, baseY + 4*s, 3*s, 1*s);
            // Body detail
            ctx.fillStyle = hexColor(0x7733dd);
            ctx.fillRect(baseX + 6*s, baseY + 8*s, 8*s, 8*s);
            // Fists
            ctx.fillStyle = hexColor(0x9955ff);
            ctx.fillRect(baseX + 0*s, baseY + 14*s, 4*s, 4*s);
            ctx.fillRect(baseX + 16*s, baseY + 14*s, 4*s, 4*s);
        }

        // Draw the elevator EXACTLY like in the game
        function drawElevator() {
            // Background (dark)
            ctx.fillStyle = '#0a0a1a';
            ctx.fillRect(0, 0, 1280, 720);

            // Elevator dimensions (scaled up for thumbnail)
            const centerX = 640;
            const elevatorWidth = 800;  // Scaled from game's ~200px
            const wallThickness = 40;   // Scaled from game's ~10px
            const halfWidth = elevatorWidth / 2;
            const floorY = 580;
            const ceilingY = 80;

            // Left wall
            ctx.fillStyle = ELEVATOR.wallColor;
            ctx.fillRect(centerX - halfWidth - wallThickness/2, 0, wallThickness, 720);

            // Right wall
            ctx.fillRect(centerX + halfWidth - wallThickness/2, 0, wallThickness, 720);

            // Floor
            ctx.fillStyle = ELEVATOR.floorColor;
            ctx.fillRect(centerX - halfWidth - wallThickness, floorY, elevatorWidth + wallThickness * 2, 60);

            // Ceiling
            ctx.fillRect(centerX - halfWidth - wallThickness, ceilingY - 40, elevatorWidth + wallThickness * 2, 40);

            // Vertical rails with rivets on walls (like in game's createDecorations)
            const patternCount = 14;
            for (let i = 0; i < patternCount; i++) {
                const y = 60 + i * 50;

                // Left rail
                ctx.fillStyle = ELEVATOR.floorColor;
                ctx.fillRect(centerX - halfWidth + 8, y, 12, 40);

                // Left rivets
                ctx.fillStyle = ELEVATOR.accentColor;
                ctx.beginPath();
                ctx.arc(centerX - halfWidth + 14, y + 8, 4, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(centerX - halfWidth + 14, y + 36, 4, 0, Math.PI * 2);
                ctx.fill();

                // Right rail
                ctx.fillStyle = ELEVATOR.floorColor;
                ctx.fillRect(centerX + halfWidth - 20, y, 12, 40);

                // Right rivets
                ctx.fillStyle = ELEVATOR.accentColor;
                ctx.beginPath();
                ctx.arc(centerX + halfWidth - 14, y + 8, 4, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(centerX + halfWidth - 14, y + 36, 4, 0, Math.PI * 2);
                ctx.fill();
            }

            // Horizontal panel lines on walls
            for (let i = 0; i < 5; i++) {
                const y = 140 + i * 100;
                ctx.fillStyle = ELEVATOR.accentColor;
                ctx.fillRect(centerX - halfWidth + 20, y, 30, 6);
                ctx.fillRect(centerX + halfWidth - 50, y, 30, 6);
            }

            // Corner brackets (like in game)
            ctx.fillStyle = '#555577';
            // Top left
            ctx.fillRect(centerX - halfWidth + 30, ceilingY + 20, 50, 6);
            ctx.fillRect(centerX - halfWidth + 20, ceilingY + 30, 6, 40);
            // Top right
            ctx.fillRect(centerX + halfWidth - 80, ceilingY + 20, 50, 6);
            ctx.fillRect(centerX + halfWidth - 26, ceilingY + 30, 6, 40);
            // Bottom left
            ctx.fillRect(centerX - halfWidth + 30, floorY - 30, 50, 6);
            ctx.fillRect(centerX - halfWidth + 20, floorY - 70, 6, 40);
            // Bottom right
            ctx.fillRect(centerX + halfWidth - 80, floorY - 30, 50, 6);
            ctx.fillRect(centerX + halfWidth - 26, floorY - 70, 6, 40);

            // Floor display panel (like in game)
            ctx.fillStyle = ELEVATOR.floorColor;
            ctx.globalAlpha = 0.9;
            ctx.fillRect(centerX - 120, ceilingY - 20, 240, 50);
            ctx.globalAlpha = 1;

            ctx.fillStyle = ELEVATOR.wallColor;
            ctx.globalAlpha = 0.8;
            ctx.fillRect(centerX - 110, ceilingY - 15, 220, 40);
            ctx.globalAlpha = 1;

            // Panel border
            ctx.strokeStyle = ELEVATOR.accentColor;
            ctx.lineWidth = 4;
            ctx.strokeRect(centerX - 110, ceilingY - 15, 220, 40);

            // LED dots
            for (let i = 0; i < 6; i++) {
                ctx.fillStyle = '#00ff00';
                ctx.globalAlpha = 0.5;
                ctx.beginPath();
                ctx.arc(centerX - 90 + i * 36, ceilingY + 5, 5, 0, Math.PI * 2);
                ctx.fill();
            }
            ctx.globalAlpha = 1;

            // Floor text
            ctx.font = 'bold 24px monospace';
            ctx.fillStyle = '#ffcc00';
            ctx.textAlign = 'center';
            ctx.fillText('FLOOR 66', centerX, ceilingY + 12);

            // Warning lights (red circles like in game)
            ctx.fillStyle = '#ff0000';
            ctx.globalAlpha = 0.3;
            ctx.beginPath();
            ctx.arc(centerX - halfWidth + 45, ceilingY + 70, 20, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(centerX + halfWidth - 45, ceilingY + 70, 20, 0, Math.PI * 2);
            ctx.fill();
            ctx.globalAlpha = 1;

            // Ceiling lights (like in game - lightColor with glow)
            ctx.fillStyle = ELEVATOR.lightColor;
            ctx.globalAlpha = 0.3;
            ctx.fillRect(centerX - 100, ceilingY + 25, 200, 10);
            ctx.globalAlpha = 0.2;
            ctx.fillRect(centerX - 200, ceilingY + 25, 60, 8);
            ctx.fillRect(centerX + 140, ceilingY + 25, 60, 8);
            ctx.globalAlpha = 1;

            // Vent grate
            ctx.fillStyle = '#333344';
            ctx.fillRect(centerX - 60, ceilingY - 5, 120, 20);
            for (let i = 0; i < 6; i++) {
                ctx.fillStyle = '#222233';
                ctx.fillRect(centerX - 50 + i * 20, ceilingY, 12, 10);
            }

            // Control panel on left wall
            ctx.fillStyle = '#222233';
            ctx.fillRect(centerX - halfWidth + 30, 280, 40, 120);
            // Buttons
            for (let i = 0; i < 4; i++) {
                ctx.fillStyle = '#444455';
                ctx.beginPath();
                ctx.arc(centerX - halfWidth + 50, 300 + i * 28, 8, 0, Math.PI * 2);
                ctx.fill();
            }
            // Active button
            ctx.fillStyle = '#00ff00';
            ctx.globalAlpha = 0.8;
            ctx.beginPath();
            ctx.arc(centerX - halfWidth + 50, 300, 8, 0, Math.PI * 2);
            ctx.fill();
            ctx.globalAlpha = 1;

            // Elevator cables at top
            ctx.fillStyle = '#333333';
            for (let i = 0; i < 4; i++) {
                ctx.fillRect(centerX - 60 + i * 40, 0, 4, ceilingY - 20);
            }

            // Floor shine
            ctx.fillStyle = '#ffffff';
            ctx.globalAlpha = 0.1;
            ctx.fillRect(centerX - 200, floorY - 10, 400, 6);
            ctx.globalAlpha = 0.15;
            ctx.fillRect(centerX - 120, floorY - 6, 80, 2);
            ctx.fillRect(centerX + 40, floorY - 6, 80, 2);
            ctx.globalAlpha = 1;
        }

        // Draw impact sparks
        function drawSparks(x, y) {
            const colors = ['#ffff88', '#ffffff', '#ffcc00'];
            for (let i = 0; i < 12; i++) {
                const angle = (i / 12) * Math.PI * 2;
                const dist = 30 + Math.random() * 50;
                const sx = x + Math.cos(angle) * dist;
                const sy = y + Math.sin(angle) * dist;
                const size = 8 + Math.random() * 16;
                ctx.fillStyle = colors[i % 3];
                ctx.fillRect(sx, sy, size, size);
            }
        }

        // Draw title
        function drawTitle() {
            ctx.globalAlpha = 0.85;
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 240, 1280, 140);
            ctx.globalAlpha = 1;

            ctx.font = 'bold 80px monospace';
            ctx.textAlign = 'center';

            ctx.fillStyle = '#000000';
            ctx.fillText('ELEVATOR PANIC', 644, 324);
            ctx.fillStyle = '#cc2222';
            ctx.fillText('ELEVATOR PANIC', 642, 322);
            ctx.fillStyle = '#ff4444';
            ctx.fillText('ELEVATOR PANIC', 640, 320);

            ctx.font = 'bold 28px monospace';
            ctx.fillStyle = '#ffcc00';
            ctx.fillText('KICK THEM OUT!', 640, 370);
        }

        // Draw floor counter UI
        function drawFloorCounter() {
            ctx.fillStyle = '#333333';
            ctx.fillRect(40, 40, 160, 90);
            ctx.fillStyle = '#000000';
            ctx.fillRect(48, 48, 144, 74);

            ctx.font = 'bold 18px monospace';
            ctx.fillStyle = '#666666';
            ctx.textAlign = 'center';
            ctx.fillText('FLOOR', 120, 75);

            ctx.font = 'bold 42px monospace';
            ctx.fillStyle = '#ffcc00';
            ctx.fillText('66', 120, 115);
        }

        // Draw score display
        function drawScoreDisplay() {
            ctx.fillStyle = '#333333';
            ctx.fillRect(1040, 40, 200, 70);
            ctx.fillStyle = '#000000';
            ctx.fillRect(1048, 48, 184, 54);

            ctx.font = 'bold 14px monospace';
            ctx.fillStyle = '#666666';
            ctx.textAlign = 'right';
            ctx.fillText('SCORE', 1220, 70);

            ctx.font = 'bold 28px monospace';
            ctx.fillStyle = '#ffffff';
            ctx.fillText('125,680', 1220, 95);
        }

        // Draw combo text
        function drawComboText() {
            ctx.font = 'bold 52px monospace';
            ctx.textAlign = 'center';

            ctx.fillStyle = '#000000';
            ctx.fillText('5x COMBO!', 644, 504);

            ctx.fillStyle = '#ffcc00';
            ctx.fillText('5x COMBO!', 640, 500);
        }

        // Draw vignette
        function drawVignette() {
            const gradient = ctx.createRadialGradient(640, 360, 200, 640, 360, 750);
            gradient.addColorStop(0, 'rgba(0,0,0,0)');
            gradient.addColorStop(1, 'rgba(0,0,0,0.5)');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 1280, 720);
        }

        // Main render function
        function render() {
            // Clear
            ctx.fillStyle = '#0a0a1a';
            ctx.fillRect(0, 0, 1280, 720);

            // Elevator (matching game exactly)
            drawElevator();

            // Floor position for characters
            const floorY = 580;

            // Draw enemies positioned on the floor (left to right)
            drawBoomer(220, floorY - 100, SCALE);       // Far left - black bomb
            drawBouncer(320, floorY - 78, SCALE);       // Left - pink bouncy
            drawHeavy(420, floorY - 130, SCALE);        // Left-center - purple brute

            // Draw player in center, kicking to the right
            drawPlayerKick(580, floorY - 150, SCALE);

            // Draw sparks at kick impact (between player kick and rusher)
            drawSparks(720, floorY - 80);

            // Rusher being kicked (to the right of player)
            drawRusher(760, floorY - 100, SCALE);       // Being kicked - red demon

            // Ghost floating on the right
            drawGhost(920, floorY - 120, SCALE);        // Right side - white ghost

            // UI Elements
            drawFloorCounter();
            drawScoreDisplay();

            // Title overlay
            drawTitle();

            // Combo text
            drawComboText();

            // Vignette effect
            drawVignette();
        }

        function downloadThumbnail() {
            const link = document.createElement('a');
            link.download = 'elevator-panic-thumbnail.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // Render the thumbnail
        render();
    </script>
</body>
</html>
